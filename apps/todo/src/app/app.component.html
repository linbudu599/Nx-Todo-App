<a
  href="https://github.com/NG-ZORRO/ng-zorro-antd"
  target="_blank"
  style="
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
  "
>
  <img
    height="200"
    src="https://img.alicdn.com/tfs/TB1X.qJJgHqK1RjSZFgXXa7JXXa-89-131.svg"
  />
</a>

<nz-space style="margin-bottom: 20px">
  <div
    *ngFor="let todo of todos; index as i"
    style="width: 100px; margin-right: 20px"
  >
    <nz-space-item>
      <span>id: {{ todo.id }}</span>
    </nz-space-item>
    <nz-space-item>
      <span>title: {{ todo.title }}</span>
    </nz-space-item>
    <nz-space-item>
      <span>desc: {{ todo.description }}</span>
    </nz-space-item>
    <button
      nz-button
      nzType="primary"
      nzShape="circle"
      (click)="fakeCheckDetail(todo.id)"
    >
      <i nz-icon nzType="search"></i>
    </button>
    <button
      nz-button
      nzType="primary"
      nzShape="circle"
      (click)="deleteItem({ id: todo.id })"
    >
      <i nz-icon nzType="close"></i>
    </button>
    <br />
  </div>
</nz-space>

<button nz-button nzType="primary" (click)="fakeAdd()" style="display: block">
  Fake Add
</button>

<button nz-button nzType="primary" (click)="realAdd()" style="display: block">
  Real Add
</button>

<nz-modal
  [(nzVisible)]="isModalVisible"
  [nzTitle]="modalTitle"
  (nzOnCancel)="handleCancel()"
  [nzFooter]="null"
>
  <ng-template #modalTitle>
    <span>{{ createMode ? '创建' : '更新TODO: ' + selectedTodo.title }}</span>
  </ng-template>

  <div *nzModalContent>
    <p>selected todo id {{ selectedTodo?.id }}</p>
    <p>selected todo title {{ selectedTodo?.title }}</p>
    <p>selected todo description {{ selectedTodo?.description }}</p>
    <button
      nz-button
      nzType="primary"
      (click)="fakeUpdate(selectedTodo.id)"
      style="display: block"
    >
      Fake Update
    </button>

    <br />

    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="title" [nzRequired]="createMode"
          >title</nz-form-label
        >
        <nz-form-control
          [nzSpan]="14"
          nzErrorTip="Title必填, 并且长度需在2-20个字符间"
        >
          <nz-input-group
            [nzSuffix]="suffixTemplateInfo"
            [nzPrefix]="prefixTemplateUser"
          >
            <input
              nz-input
              formControlName="title"
              name="title"
              autocomplete="off"
              placeholder="TODO TITLE"
            />
          </nz-input-group>
        </nz-form-control>
      </nz-form-item>

      <ng-template #prefixTemplateUser
        ><i nz-icon nzType="user"></i
      ></ng-template>
      <ng-template #suffixTemplateInfo
        ><i
          nz-icon
          nz-tooltip
          nzTooltipTitle="Extra information"
          nzTooltipTrigger="hover"
          nzType="info-circle"
        ></i
      ></ng-template>

      <nz-form-item>
        <nz-form-label [nzSpan]="6" nzFor="description"
          >description</nz-form-label
        >
        <nz-form-control
          [nzSpan]="14"
          nzErrorTip="描述字符长度需要在2-30个字符间"
        >
          <nz-input-group
            [nzSuffix]="suffixTemplateInfo"
            [nzPrefix]="prefixTemplateUser"
          >
            <input
              nz-input
              formControlName="description"
              name="description"
              autocomplete="off"
              placeholder="TODO DESCRIPTION"
            />
          </nz-input-group>
          <ng-template #prefixTemplateUser
            ><i nz-icon nzType="user"></i
          ></ng-template>
          <ng-template #suffixTemplateInfo
            ><i
              nz-icon
              nz-tooltip
              nzTooltipTitle="Extra information"
              nzType="info-circle"
            ></i
          ></ng-template>
          <br />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-control>
          <button
            nz-button
            nzType="primary"
            [disabled]="!validateForm.valid"
            style="width: 30%; margin: 0 35%"
          >
            {{ createMode ? '创建' : '更新' }}
          </button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</nz-modal>
